// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

model User {  
    id     String   @id @default(auto()) @map("_id") @db.ObjectId  
    email  String   @unique  
    name   String?  
    password String 
    rule Int
    createdAt  DateTime  @default(now())  
    updatedAt  DateTime  @updatedAt
}

model Turma {
  id     String   @id @default(auto()) @map("_id") @db.ObjectId  
  email_professor String
  idTurmaDisc Int
  codTurma String
  codDisc String
  disciplina String
  professor String
  num_Alunos Int
  email_coordenador String
  coordenador String
}

model Solicitacao {
    id  String   @id @default(auto()) @map("_id") @db.ObjectId  
    email_solicitante String   
    descricao String   
    idTurmaDisc Int   
    email_coordenador String   
    codTurma String   
    status Int
    files Files[]
}

model Files {
    id  String   @id @default(auto()) @map("_id") @db.ObjectId  
    nomeArquivo String     
    solicitacao   Solicitacao   @relation(fields: [idSolicitacao], references: [id], onDelete: Cascade)
    idSolicitacao String @db.ObjectId 
    file Bytes?
     
}